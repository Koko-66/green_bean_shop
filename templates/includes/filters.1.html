<!-- Filters and sort options -->
<div class="offcanvas offcanvas-top mx-auto" id="filters">
    <div class="row text-uppercase small m-2 mb-0 me-3 justify-content-center justify-content-md-end bg-light fw-bolder small">
        Filter / Sort 
        <small type="button" class="btn-close ms-1 mt-1 fw-bold text-dgreen" data-bs-dismiss="offcanvas" aria-label="Close"></small>
    </div>
    
    <div class="container-fluid p-3 px-5 bg-light d-none d-lg-flex flex-row">
        <div class="col">
            <p class="text-dgreen text-uppercase fs-6 fw-bold mb-2">Color</p>
            <div class="d-flex flex-row flex-wrap">
                {% for color in color_list %}
                <a href="{% url 'products:products' %}?color={{ color.color }}" title="{{ color.color }}">
                    <div class="circle bg-{{ color.color.lower }} me-2"></div>
                </a>
                {% endfor %}
            </div>
        </div>
        <div class="col">
            <p class="text-dgreen text-uppercase fs-6 fw-bold mb-2">Size</p>
            <div class="d-flex flex-row flex-wrap my-2">
                {% for size in size_list %}
                <span class="size-box me-2 small">
                    <a href="{% url 'products:products' %}?size={{ size.size_short }}" title="{{ size.size_short }}"
                        class="undecorated text-dgreen">{{ size.size_short }}</a>
                </span>
                {% endfor %}

            </div>
        </div>
        <div class="col">
            <p class="text-dgreen text-uppercase fs-6 fw-bold mb-2">Category</p>
            {% for category in category_list %}
            <a href="{% url 'products:products' %}?category={{ category.category_name }}"
                class="dropdown-item">{{ category.friendly_name}}</a>
            {% endfor %}
        </div>
        <div class="col">
            <p class="text-dgreen text-uppercase fs-6 fw-bold mb-2">Sort by...</p>
            <a class="dropdown-item">New Arrivals</a><a href="{% url 'products:products' %}?sort=rating&direction=asc"
                class="dropdown-item">
                Rating</a>
            <a href="{% url 'products:products' %}?sort=price&direction=asc" class="dropdown-item">Price (lowest
                first)</a>
            <a href="{% url 'products:products' %}?sort=price&direction=desc" class="dropdown-item">Price (highest
                first)</a>
            <a href="{% url 'products:products' %}?sort=product_name&direction=asc" class="dropdown-item">Name (A-Z)</a>
            <a href="{% url 'products:products' %}?sort=product_name&direction=desc" class="dropdown-item">Name
                (Z-A)</a>
        </div>
    </div>
    <!-- Filters for mobiles -->
    <div id="filters-small" class="container-fluid p-3 bg-light d-sm-block d-md-block d-lg-none justify-content-center">
        <div class="col my-2">
            <a class="text-dgreen text-uppercase undecorated fs-6 fw-bold mb-3" data-bs-toggle="collapse" href="#colors">Color</a>
            <div id="colors" class="collapse">
                <div class="d-flex flex-row flex-wrap">
                    {% for color in color_list %}
                    <a href="{% url 'products:products' %}?color={{ color.color }}" title="{{ color.color }}" class="circle me-1">
                        <div class="circle bg-{{ color.color.lower }} me-2"></div>
                    </a>
                    {% endfor %}
                </div>
            </div>
        </div>
        <div class="col my-2">
            <a class="text-dgreen text-uppercase undecorated fs-6 fw-bold mb-3" data-bs-toggle="collapse" href="#size">Size</a>
            <div id="size" class="collapse">
                <div class="d-flex flex-row flex-wrap my-2">
                {% for size in size_list %}
                <span class="size-box me-2 small">
                    <a href="{% url 'products:products' %}?size={{ size.size_short }}" title="{{ size.size_short }}"
                        class="undecorated text-dgreen me-1">{{ size.size_short }}</a>
                </span>
                {% endfor %}
                {% if product.get_sizes %}
                        <div class="d-flex flex-row flex-wrap mt-3" id="sizes">
                            <span class="me-2">Sizes:</span>
                            {% for size in product.get_sizes %}
                            <div class="size-box me-2">
                                <input id="id_size-{{ size }}_prod-{{ product.id }}" type="radio" class="size d-none"
                                    name="size" value="{{ size }}">
                                <label for="id_size-{{ size }}_prod-{{ product.id }}"
                                    class="border size-box">{{ size }}</label>
                            </div>
                            {% endfor %}
                        </div>
                {% endif %}
                </div>
            </div>
        </div>
        <div class="col my-2">
            <a class="text-dgreen text-uppercase undecorated fs-6 fw-bold mb-2" data-bs-toggle="collapse" href="#category">Category</a>
            <div id="category" class="collapse">
                {% for category in category_list %}
                    <a href="{% url 'products:products' %}?category={{ category.category_name }}"
                        class="dropdown-item">{{ category.friendly_name}}</a>
                {% endfor %}
            </div>
        </div>
        <div class="col my-2">
            <a class="text-dgreen text-uppercase undecorated fs-6 fw-bold mb-2" data-bs-toggle="collapse" href="#sort">Sort by...</p>
            <div id="sort" class="collapse">
                <a class="dropdown-item">New Arrivals</a><a href="{% url 'products:products' %}?sort=rating&direction=asc"
                    class="dropdown-item">
                    Rating</a>
                <a href="{% url 'products:products' %}?sort=price&direction=asc" class="dropdown-item">Price (lowest
                    first)</a>
                <a href="{% url 'products:products' %}?sort=price&direction=desc" class="dropdown-item">Price (highest
                    first)</a>
                <a href="{% url 'products:products' %}?sort=product_name&direction=asc" class="dropdown-item">Name (A-Z)</a>
                <a href="{% url 'products:products' %}?sort=product_name&direction=desc" class="dropdown-item">Name
                    (Z-A)</a>
            </div>
        </div>
    </div>
    <div id="filter-controls">Clear filter</div>
</div>

